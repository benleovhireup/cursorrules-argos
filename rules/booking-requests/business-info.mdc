---
alwaysApply: true
description: Booking Requests - Business Information and User Guide
---

# Booking Requests - Business Information

## Overview

**Booking Requests** are requests for support worker services that clients or providers create. A booking request becomes a **booking** once a support worker accepts it. Booking requests allow clients/providers to specify:
- Location (home, community, remote, or combination)
- Date and time
- Support worker(s) to send the request to
- Description and requirements
- Vehicle requirements
- Support categories
- Repeat frequency (for recurring requests)

## User Types & Access

### Who Can Create/Edit Booking Requests

1. **Attendant Care Client** (`isAttendantCareClient`)
   - Can create, edit booking requests
   - Requires feature flag: `clientTrialBookingRequests` (for creation)
   - Can access retrospective booking creation
   - Can send requests to predetermined workers (direct requests) or multiple support workers (team requests)

2. **Provider** (`isProvider`)
   - Can create, edit, duplicate booking requests
   - Can create retrospective bookings
   - Can send requests to multiple support workers (team requests only, for now)
   - For one-to-one flows (direct requests with predetermined worker), providers are routed to legacy booking/request flow (`/booking/requests/create`)

3. **Support Coordinator** (`isSupportCoordinator`)
   - Can create booking requests on behalf of clients
   - Must select a client first before creating the request
   - Can access accounts dashboard

### Who Can View Booking Requests

1. **Client** - Views their own booking requests
   - URL pattern: `/booking-requests/client/{bookingRequestId}`
   - Can see booking request details, edit, or cancel based off of the status of the booking request

2. **Support Worker** - Views booking requests sent to them
   - URL pattern: `/booking-requests/support-worker/{bookingRequestId}`
   - Can accept or decline booking requests
   - Sees notices and compliance requirements

3. **Provider** - Views booking requests they created
   - URL pattern: `/booking-requests/{bookingRequestId}`
    - Can see booking request details, edit, duplicate, or cancel based off of the status of the booking request

## Accessing Booking Request Pages

### Flow Versions

**flowV2 (Current/Active):**
- Modern flow with up to 3 steps
- Location and Date/Time are combined into one step (Location step)
- Predetermined worker (direct request): Location+Date/Time → Details (2 steps)
- Team requests: Location+Date/Time → Details → Select Workers (3 steps)
- Retrospective: Details (1 step, also flowV2)
- Supports repeat frequency and repeat end dates
- Used for all new booking request creation
- Store location: `web-apps/src/booking-requests/stores/flowV2/`
- Views location: `web-apps/src/booking-requests/views/viewsV2/`

**oneToMany (Deprecated/Legacy):**
- Legacy flow with 3 steps: Location → Details → Select Workers (no date-and-time step)
- Does NOT support repeat frequency
- Still in use for some existing flows (being phased out)
- Store location: `web-apps/src/booking-requests/stores/flows/oneToMany/`
- Views location: `web-apps/src/booking-requests/views/BookingRequestContainer/flows/oneToMany/`
- **Note:** This flow is deprecated and will be removed in the future

### Creating Booking Requests

#### Attendant Care Client - Create Flow (flowV2 - Current)
**Base URL:** `/booking-requests/create/attendant-care/`
**Steps:**
1. Location+Date/Time step: `/booking-requests/create/attendant-care/location` (combines location and date/time)
2. Details step: `/booking-requests/create/attendant-care/details`
3. Select Workers step: `/booking-requests/create/attendant-care/select-workers` (only for team requests)

**Direct Request (single worker - predetermined):**
- Add query param: `?supportWorkerId={workerId}`
- Example: `/booking-requests/create/attendant-care/location?supportWorkerId=12345`
- Flow: Location+Date/Time → Details (2 steps, skips select-workers)

**Team Request (multiple workers):**
- No query param needed
- Flow: Location+Date/Time → Details → Select Workers (3 steps)

**Feature Flag:** Controlled by `newBookingRequestFlowForAttendantCareClient` (V2 flows not in production yet for attendant care clients)

#### Attendant Care Client - Create Flow (oneToMany - Deprecated)
**Base URL:** `/booking-requests/create/attendant-care/multiple-workers/`
**Steps:**
1. Location step: `/booking-requests/create/attendant-care/multiple-workers/location`
2. Details step: `/booking-requests/create/attendant-care/multiple-workers/details`
3. Select Workers step: `/booking-requests/create/attendant-care/multiple-workers/select-workers`

**Note:** This flow does NOT have a date-and-time step. Date/time is entered in the details step.

#### Provider - Create Flow (flowV2 - Current)
**Base URL:** `/booking-requests/create/provider/`
**Steps:** Same as attendant care client flowV2
- Location+Date/Time: `/booking-requests/create/provider/location` (combines location and date/time)
- Details: `/booking-requests/create/provider/details`
- Select Workers: `/booking-requests/create/provider/select-workers` (only for team requests)

**Note:** Providers can only create team requests (3 steps: Location+Date/Time → Details → Select Workers). For one-to-one flows, providers are routed to legacy booking/request flow.

#### Provider - Create Flow (oneToMany - Deprecated)
**Base URL:** `/booking-requests/create/provider/multiple-workers/`
**Steps:**
1. Location step: `/booking-requests/create/provider/multiple-workers/location`
2. Details step: `/booking-requests/create/provider/multiple-workers/details`
3. Select Workers step: `/booking-requests/create/provider/multiple-workers/select-workers`

**Note:** This flow does NOT have a date-and-time step. Date/time is entered in the details step.

#### Support Coordinator - Create Flow
**Base URL:** `/booking-requests/create/support-coordinator/`
**Steps:**
1. Select Client step: `/booking-requests/create/support-coordinator/select-client`
2. Location+Date/Time step: `/booking-requests/create/support-coordinator/location` (combines location and date/time)
3. Details step: `/booking-requests/create/support-coordinator/details`
4. Select Workers step: `/booking-requests/create/support-coordinator/select-workers`

### Editing Booking Requests

#### flowV2 Edit Flow (Current)

**Base URL:** `/booking-requests/edit/{flowType}/{bookingRequestId}/`

**Attendant Care Client (flowV2):**
- `/booking-requests/edit/attendant-care/{bookingRequestId}/location` (combines location and date/time)
- `/booking-requests/edit/attendant-care/{bookingRequestId}/details`
- `/booking-requests/edit/attendant-care/{bookingRequestId}/select-workers` (only for team requests)

**Provider (flowV2):**
- `/booking-requests/edit/provider/{bookingRequestId}/location` (combines location and date/time)
- `/booking-requests/edit/provider/{bookingRequestId}/details`
- `/booking-requests/edit/provider/{bookingRequestId}/select-workers` (only for team requests)

#### oneToMany Edit Flow (Deprecated)

**Base URL:** `/booking-requests/edit/{flowType}/multiple-workers/{bookingRequestId}/`

**Attendant Care Client (oneToMany):**
- `/booking-requests/edit/attendant-care/multiple-workers/{bookingRequestId}/location`
- `/booking-requests/edit/attendant-care/multiple-workers/{bookingRequestId}/details`
- `/booking-requests/edit/attendant-care/multiple-workers/{bookingRequestId}/select-workers`

**Provider (oneToMany):**
- `/booking-requests/edit/provider/multiple-workers/{bookingRequestId}/location`
- `/booking-requests/edit/provider/multiple-workers/{bookingRequestId}/details`
- `/booking-requests/edit/provider/multiple-workers/{bookingRequestId}/select-workers`

**Note:** Users can only edit booking requests they created. For flowV2, editing redirects to the first step page (location) regardless of what step they navigate to. The flow version (V2 vs oneToMany) is determined by how the booking request was originally created.

### Duplicating Booking Requests

**Base URL:** `/booking-requests/duplicate/{flowType}/{bookingRequestId}/`

Same step structure as edit flow:
- `/booking-requests/duplicate/attendant-care/{bookingRequestId}/location`
- `/booking-requests/duplicate/provider/{bookingRequestId}/location`
- etc.

**Note:** Duplicating creates a new booking request with the same details, allowing users to quickly create similar requests.

### Viewing Booking Request Details

**Client View:**
- `/booking-requests/client/{bookingRequestId}`
- Shows: booking details, support workers, status, action buttons (edit, cancel)
- Shows `EditBookingRequestNotice` if all workers have declined

**Support Worker View:**
- `/booking-requests/support-worker/{bookingRequestId}`
- Shows: booking details, client information, accept/decline buttons
- Shows `BookingRequestDetailsNotice` for various states (compliance, availability, etc.)

**Provider View:**
- `/booking-requests/{bookingRequestId}`
- Shows: booking details, support workers, status, action buttons (edit, duplicate)

### Retrospective Booking Creation

**Attendant Care Client:**
- `/booking-requests/create/retrospective/attendant-care/details`
- Used for creating bookings that already happened (backdating)

**Provider:**
- `/booking-requests/create/retrospective/provider/details`
- Used for creating bookings that already happened (backdating)

## Business Workflows

### Creating a New Booking Request (flowV2)

1. **User navigates to create flow** (location step)
2. **Location+Date/Time Step:** User selects location type (home, community, remote, combination), enters address, selects date, start time, end time, and optionally repeat frequency with end date
3. **Details Step:** User enters description, vehicle requirements, support categories
4. **Select Workers Step:** User selects one or more support workers (skipped for direct requests with predetermined worker)
5. **Submit:** Booking request is created and sent to selected workers

**Note:** Direct requests (predetermined worker) skip the Select Workers step and have 2 steps total. Team requests have 3 steps total.

### Creating a New Booking Request (oneToMany - Deprecated)

1. **User navigates to create flow** (location step)
2. **Location Step:** User selects location type (home, community, remote, combination) and enters address
3. **Details Step:** User enters date, start time, end time, description, vehicle requirements, support categories (date/time combined with details)
4. **Select Workers Step:** User selects one or more support workers
5. **Submit:** Booking request is created and sent to selected workers

**Key Difference:** oneToMany flow combines date/time entry with the details step, while flowV2 combines location and date/time into one step and supports repeat frequency.

### Creating a Retrospective Booking Request (flowV2)

1. **User navigates to retrospective booking creation** (details step)
2. **Details Step:** User enters all information in one step:
   - Location type (home, community, remote, combination) and address
   - Date, start time, end time
   - Description, vehicle requirements, support categories
   - Support worker selection
   - Finance reference (if applicable)
3. **Submit:** Retrospective booking is created (booking request that already happened, backdating)

**Note:** Retrospective bookings use flowV2 but have a simplified single-step flow. All information (location, date/time, details, worker selection) is entered in one Details step.

### Editing a Booking Request

1. **User navigates to booking request details**
2. **Clicks "Edit" button**
3. **Redirected to first step** (location) - flowV2 always redirects to the first step page regardless of what step they navigate to
4. **User modifies information** across steps
5. **Submit:** Booking request is updated

**Important:** For flowV2, users are always redirected to the first step (location) when editing, regardless of which step URL they try to access.

### Duplicating a Booking Request

1. **User navigates to booking request details**
2. **Clicks "Duplicate" button**
3. **Redirected to create flow** with pre-filled information from original request
4. **User can modify** any details before submitting
5. **Submit:** New booking request is created

### Support Worker Accepting/Declining

1. **Support worker receives booking request** (via notification or viewing their requests)
2. **Views booking request details** (`/booking-requests/support-worker/{id}`)
3. **System checks compliance and agreements:**
   - Checks if support worker has pending compliance requirements
   - Checks if IFA (Individual Flexibility Agreement) needs to be accepted
   - Checks if Provider Employment Agreement needs to be accepted (for provider workers)
   - Checks worker availability for the booking request
   - Shows notices/alerts if there are any issues
4. **If agreements required:** Support worker sees "Sign agreement" button and is redirected to appropriate agreement page (`/agreements/ifa` or `/agreements/provider-employment-agreement`)
5. **After agreements accepted:** Support worker returns to dashboard and can now accept the booking request
6. **Support worker clicks "Accept" or "Decline":**
   - **Accept:** 
     - API call: `POST /api/v1.5/booking-requests/{bookingRequestId}/accept?supportWorkerId={supportWorkerId}`
     - Booking request becomes a booking
     - Support worker redirected to confirmed bookings list
     - Success message shown: "Booking confirmed with {clientName}"
     - Error shown if request has already passed: "This request has already passed"
   - **Decline:**
     - API call: `POST /api/v1.5/booking-requests/{bookingRequestId}/decline?supportWorkerId={supportWorkerId}`
     - Support worker redirected to booking requests list
     - Error shown if decline fails: "Booking request could not be declined"
7. **If all workers decline:** Client sees `EditBookingRequestNotice` suggesting to edit or post job
8. **If booking expired:** Support worker cannot accept expired booking requests (for team requests)

## Flow Types

- **ATTENDANT_CARE_CLIENT:** `attendant-care-client`
- **PROVIDER:** `provider`
- **SUPPORT_COORDINATOR:** `support-coordinator`

## Request Types

- **Direct Request:** Sent to a single pre-selected support worker (uses `?supportWorkerId={id}` query param)
- **Team Request:** Sent to multiple support workers (user selects workers in select-workers step)

## Important Notes

1. **Route Guards:** All booking request routes require authentication and appropriate user type guards
2. **Step Completion:** Users cannot skip steps - must complete in order. For flowV2: Location+Date/Time → Details → Select Workers (Select Workers step skipped for direct requests with predetermined worker)
3. **Feature Flags:** Some flows are controlled by feature flags (e.g., `newBookingRequestFlowForAttendantCareClient`)
4. **Retrospective Bookings:** Simplified flowV2 flow (single Details step) for creating past bookings. All information (location, date/time, details) is entered in one step.
5. **Booking vs Booking Request:** A booking request becomes a booking once accepted by a support worker

## Testing Access

To test booking request flows, you need:
- Valid user credentials for the appropriate user type
- Booking request IDs (for viewing/editing/duplicating)
- Support worker IDs (for direct requests)

**Example Test URLs:**
- Create: `http://app.local.hireup.com.au/booking-requests/create/attendant-care/location`
- View: `http://app.local.hireup.com.au/booking-requests/client/{bookingRequestId}`
- Edit: `http://app.local.hireup.com.au/booking-requests/edit/attendant-care/{bookingRequestId}/location`
